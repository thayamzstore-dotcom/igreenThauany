<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iGreen Energy - Economize at√© 30% na sua Conta de Luz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
            color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Banner de Indica√ß√£o */
        .indicacao-banner {
            background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
            padding: 15px 20px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 255, 0, 0.4);
        }

        .indicacao-banner p {
            color: #fff;
            font-weight: bold;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            line-height: 1.5;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .indicacao-banner .licenciada {
            font-size: 0.9em;
        }

        .indicacao-banner .nome-indicador {
            font-size: 1.3em;
            font-weight: 900;
        }

        .indicacao-banner .empresa {
            font-size: 1.1em;
            color: #fff;
        }

        /* Header com Logo */
        .header {
            text-align: center;
            padding: 20px 0;
            background: #ffffff;
        }

        .logo {
            max-width: 280px;
            width: 100%;
            height: auto;
            margin: 0;
        }

        /* Se√ß√£o Hero - Informativa */
        .hero-section {
            background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
            padding: 60px 20px;
            text-align: center;
            margin: 30px 0;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 255, 0, 0.3);
        }

        .hero-section h1 {
            font-size: 3em;
            color: #000;
            margin-bottom: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.3);
        }

        .hero-section .subtitle {
            font-size: 1.5em;
            color: #1a1a1a;
            margin-bottom: 30px;
            font-weight: 600;
        }

        /* √Årea de Conte√∫do Informativo */
        .info-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px 20px;
            border-radius: 0;
            margin: 0;
            backdrop-filter: blur(10px);
        }

        .info-section h2 {
            color: #00ff00;
            font-size: 2.2em;
            margin-bottom: 30px;
            text-align: center;
            text-transform: uppercase;
        }

        .video-container {
            max-width: 800px;
            margin: 40px auto;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 255, 0, 0.2);
        }

        /* Como Funciona Section */
        .como-funciona {
            background: rgba(0, 0, 0, 0.5);
            padding: 60px 30px;
            border-radius: 15px;
            margin: 40px 0;
        }

        .como-funciona h2 {
            color: #00ff00;
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 50px;
            text-transform: uppercase;
        }

        .processo-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .step-card {
            background: rgba(0, 255, 0, 0.1);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #00ff00;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0, 255, 0, 0.3);
        }

        .step-number {
            background: #00ff00;
            color: #000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        .step-card h3 {
            color: #00ff00;
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .step-card p {
            color: #e0e0e0;
            line-height: 1.6;
        }

        /* App Section */
        .app-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            padding: 60px 30px;
            border-radius: 15px;
            margin: 40px 0;
            border: 2px solid #00ff00;
        }

        .app-section h2 {
            color: #00ff00;
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 20px;
        }

        .app-section .subtitle {
            color: #00ff00;
            font-size: 1.3em;
            text-align: center;
            margin-bottom: 40px;
        }

        .app-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-item {
            background: rgba(0, 255, 0, 0.05);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #00ff00;
        }

        .feature-item::before {
            content: "‚úì";
            color: #00ff00;
            font-size: 1.5em;
            font-weight: bold;
            margin-right: 10px;
        }

        /* Vantagens Section */
        .vantagens-section {
            background: rgba(0, 255, 0, 0.05);
            padding: 60px 30px;
            border-radius: 15px;
            margin: 40px 0;
        }

        .vantagens-section h2 {
            color: #00ff00;
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 50px;
        }

        .vantagens-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .vantagem-item {
            background: rgba(0, 0, 0, 0.5);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #00ff00;
            display: flex;
            align-items: center;
            transition: transform 0.3s ease;
        }

        .vantagem-item:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(0, 255, 0, 0.3);
        }

        .vantagem-item::before {
            content: "üå±";
            font-size: 2em;
            margin-right: 15px;
        }

        /* FAQ Section */
        .faq-section {
            background: rgba(0, 0, 0, 0.5);
            padding: 60px 30px;
            border-radius: 15px;
            margin: 40px 0;
        }

        .faq-section h2 {
            color: #00ff00;
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 20px;
        }

        .faq-subtitle {
            text-align: center;
            color: #e0e0e0;
            font-size: 1.2em;
            margin-bottom: 40px;
        }

        .faq-item {
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(0, 255, 0, 0.3);
        }

        .faq-question {
            background: rgba(0, 255, 0, 0.1);
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .faq-question:hover {
            background: rgba(0, 255, 0, 0.2);
        }

        .faq-question h3 {
            color: #00ff00;
            font-size: 1.2em;
            margin: 0;
        }

        .faq-toggle {
            color: #00ff00;
            font-size: 1.5em;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-toggle {
            transform: rotate(45deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 20px;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 20px;
        }

        .faq-answer p {
            color: #e0e0e0;
            line-height: 1.8;
            margin: 0;
        }

        /* Bot√£o CTA Principal */
        .cta-section {
            text-align: center;
            padding: 60px 20px;
        }

        .cta-button {
            background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
            color: #000;
            font-size: 2em;
            font-weight: bold;
            padding: 25px 60px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 40px rgba(0, 255, 0, 0.5);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .cta-button:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 50px rgba(0, 255, 0, 0.7);
        }

        /* Formul√°rio */
        .form-section {
            display: none;
            background: rgba(255, 255, 255, 0.05);
            padding: 50px 30px;
            border-radius: 15px;
            max-width: 800px;
            margin: 30px auto;
            backdrop-filter: blur(10px);
        }

        .form-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-section h2 {
            color: #00ff00;
            font-size: 2em;
            margin-bottom: 30px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            color: #00ff00;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid #00ff00;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #00ff00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
            background: rgba(0, 0, 0, 0.7);
        }

        .form-group input::placeholder {
            color: #888;
        }

        .file-upload {
            border: 3px dashed #00ff00;
            padding: 30px;
            text-align: center;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            background: rgba(0, 255, 0, 0.1);
            border-color: #00ff00;
        }

        .file-upload input[type="file"] {
            display: none;
        }

        .file-upload-label {
            color: #00ff00;
            font-size: 1.1em;
            cursor: pointer;
        }

        .submit-button {
            width: 100%;
            background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
            color: #000;
            font-size: 1.5em;
            font-weight: bold;
            padding: 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 0, 0.5);
        }

        .required {
            color: #ff6b6b;
        }

        .upload-progress {
    display: none;
    margin-top: 15px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    padding: 15px;
}

.upload-progress.active {
    display: block;
}

.progress-bar {
    width: 100%;
    height: 20px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    overflow: hidden;
    margin: 10px 0;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
    transition: width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    font-weight: bold;
    font-size: 0.8em;
}
        
        /* Anima√ß√£o de pulso para CTA do v√≠deo */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }
        }

        .disclaimer {
            text-align: center;
            color: #888;
            font-size: 0.9em;
            margin-top: 20px;
            padding: 20px;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 1.8em;
            }

            .hero-section .subtitle {
                font-size: 1.2em;
            }

            .cta-button {
                font-size: 1.5em;
                padding: 20px 40px;
            }

            .processo-steps,
            .vantagens-grid {
                grid-template-columns: 1fr;
            }

            .info-section h2,
            .como-funciona h2,
            .app-section h2,
            .vantagens-section h2,
            .faq-section h2 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <!-- Banner de Indica√ß√£o -->
    <div class="indicacao-banner">
        <p><span class="licenciada">Licenciada Autorizada iGreen Energy: Thaynara Matos</span><br>
        <span class="nome-indicador">INDICA√á√ÉO: Thauany Aquino</span></p>
    </div>

    <!-- Header com Logo -->
    <div class="header">
        <img src="logobrand.png" alt="iGreen Energy" class="logo">
    </div>

    <div class="container">
        <!-- Se√ß√£o de V√≠deo -->
        <div class="info-section">
            <!-- T√≠tulo e CTA para o v√≠deo -->
            <div style="text-align: center; margin-bottom: 30px;">
                <h2 style="color: #00ff00; font-size: 2.3em; margin-bottom: 10px; text-transform: uppercase; font-weight: bold;">
                    ASSISTA ESTE V√çDEO DE 1 MINUTO
                </h2>
                <p style="color: #fff; font-size: 1.4em; font-weight: 600; margin-bottom: 15px;">
                    Descubra Como Economizar At√© 30% na Sua Conta de Luz
                </p>
                <p style="color: #00ff00; font-size: 1.2em; animation: pulse 2s infinite;">
                    ‚¨áÔ∏è APERTE O PLAY AGORA ‚¨áÔ∏è
                </p>
            </div>

            <div class="video-container">
                <div style="padding: 56.25% 0 0 0; position: relative;">
                    <iframe 
                        src="https://streamable.com/e/0w0hy9" 
                        frameborder="0" 
                        allowfullscreen 
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 10px;">
                    </iframe>
                </div>
            </div>
            <p class="disclaimer">Ap√≥s o cadastro nossa equipe ir√° entrar em contato.</p>
            
            <!-- Bot√£o CTA ap√≥s v√≠deo -->
            <div style="text-align: center; margin-top: 30px;">
                <button class="cta-button" onclick="showForm()">
                    QUERO MEU DESCONTO
                </button>
            </div>
        </div>

        <!-- Como Funciona -->
        <div class="como-funciona">
            <h2>üí° Como Funciona a Conex√£o Green</h2>
            
            <div class="processo-steps">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>üåæEnergia Gerada nas Fazendas Solares</h3>
                    <p>A energia solar √© produzida em fazendas solares especializadas da iGreen</p>
                </div>

                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>‚ö° Inje√ß√£o na Rede</h3>
                    <p>A energia √© injetada na sua distribuidora local (Equatorial)</p>
                </div>

                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>üè† Distribui√ß√£o</h3>
                    <p>A Equatorial envia a energia para sua casa ou empresa</p>
                </div>

                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3>üí∞ Voc√™ Economiza</h3>
                    <p>Sem investimentos e com desconto garantido todos os meses PRA SEMPRE</p>
                </div>
            </div>

            <!-- Bot√£o CTA ap√≥s Como Funciona -->
            <div style="text-align: center; margin-top: 30px;">
                <button class="cta-button" onclick="showForm()">
                    QUERO MEU DESCONTO
                </button>
            </div>
        </div>

        <!-- App iGreen Club -->
        <div class="app-section">
            <h2>AO SE CADASTRAR VOC√ä TER√Å ACESSO AO APLICATIVO IGREEN CLUB</h2>
            <p class="subtitle">Exclusivo para Contas iGreen</p>

            <div class="app-features">
                <div class="feature-item">Acompanhamento do consumo e desconto em tempo real</div>
                <div class="feature-item">Emiss√£o da 2¬™ via do boleto</div>
                <div class="feature-item">Descontos em + de 60 mil lojas em todo Brasil</div>
                <div class="feature-item">Indique seus amigos e ganhe 1% de desconto a cada</div>
                <div class="feature-item">Suporte r√°pido e f√°cil</div>
                <div class="feature-item">Cashback sustent√°vel - ganhe at√© 100% de desconto indicando amigos e familiares</div>
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <p style="color: #00ff00; font-size: 1.2em; margin-bottom: 20px;">Dispon√≠vel para download:</p>
                <p style="font-size: 1.5em;"> Google Play | App Store</p>
            </div>
        </div>

        <!-- Vantagens -->
        <div class="vantagens-section">
            <h2>üåü VANTAGENS DE SER IGREEN ENERGY</h2>
            
            <div class="vantagens-grid">
                <div class="vantagem-item">Economia todos os meses na conta de luz</div>
                <div class="vantagem-item">Sem custos adicionais</div>
                <div class="vantagem-item">Sem burocracia e riscos</div>
                <div class="vantagem-item">Sem fidelidade</div>
                <div class="vantagem-item">Sem a compra de placas solares</div>
                <div class="vantagem-item">100% digital</div>
                <div class="vantagem-item">Cashback Sustent√°vel podendo zerar a conta sem investimentos</div>
                <div class="vantagem-item">Club de Benef√≠cios com descontos exclusivos</div>
                <div class="vantagem-item">Desconto garantido para pequena, m√©dia e alta tens√£o</div>
                <div class="vantagem-item">Amigo do meio ambiente</div>
            </div>
        </div>

        <!-- FAQ -->
        <div class="faq-section">
            <h2>‚ùì PERGUNTAS FREQUENTES</h2>
            <p class="faq-subtitle">Tire suas d√∫vidas e entenda como economizar energia de forma consciente</p>

            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>O que √© a Conex√£o Green da iGreen Energy?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>A Conex√£o Green √© um programa que permite voc√™ economizar at√© 30% na sua conta de energia sem investimento inicial. Conectamos sua resid√™ncia ou empresa a fazendas de energia solar, e voc√™ recebe desconto direto na sua conta de luz tradicional.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Como funciona o desconto na minha conta?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>A energia solar produzida nas fazendas √© injetada na rede da distribuidora local. Voc√™ continua recebendo sua conta normal, mas com um desconto de at√© 30% aplicado automaticamente. O processo √© 100% regulamentado pela ANEEL.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Preciso instalar placas solares na minha casa?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>N√£o! Esse √© o grande diferencial. Voc√™ n√£o precisa fazer nenhuma instala√ß√£o, obra ou mudan√ßa na sua resid√™ncia. A energia √© gerada em fazendas solares e injetada diretamente na rede da distribuidora.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Existe algum custo para aderir ao programa?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>N√£o h√° custos de ades√£o, instala√ß√£o ou mensalidade. Voc√™ s√≥ paga pela economia que gera. Sem investimentos iniciais, sem custos ocultos.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Existe contrato de fidelidade?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>N√£o! Voc√™ pode cancelar quando quiser, sem multas ou taxas. Nosso objetivo √© que voc√™ permane√ßa porque est√° economizando, n√£o por obriga√ß√£o contratual.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Como a energia solar ajuda o meio ambiente?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>A energia solar √© 100% limpa e renov√°vel. Ao aderir ao programa, voc√™ reduz a demanda por energia de fontes poluentes como termel√©tricas e hidrel√©tricas que causam impacto ambiental. Cada cliente iGreen contribui para reduzir a emiss√£o de CO‚ÇÇ e preservar nossos recursos naturais.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Qual o impacto ambiental positivo?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Ao usar energia solar, voc√™ evita a emiss√£o de gases poluentes na atmosfera. Uma resid√™ncia m√©dia que economiza 30% atrav√©s da energia solar evita a emiss√£o de aproximadamente 1,5 toneladas de CO‚ÇÇ por ano - equivalente a plantar 100 √°rvores!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>O programa √© seguro e regulamentado?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Sim! Todo o processo √© 100% regulamentado pela ANEEL (Ag√™ncia Nacional de Energia El√©trica). A iGreen Energy opera dentro de todas as normas legais estabelecidas pelo governo brasileiro.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Como funciona o Cashback Sustent√°vel?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>√â nosso programa de indica√ß√£o! Ao indicar amigos e familiares para a iGreen Energy, voc√™ ganha cashback que pode zerar sua conta de luz. Quanto mais pessoas voc√™ indicar, mais economia voc√™ ter√° - podendo chegar a 100% de desconto!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>O que √© o iGreen Club?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>√â o aplicativo exclusivo para clientes iGreen com benef√≠cios incr√≠veis: acompanhamento da sua economia em tempo real, descontos em mais de 60 mil lojas pelo Brasil, sorteios de pr√™mios, suporte direto e muito mais!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Quem pode participar do programa?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Resid√™ncias, com√©rcios, ind√∫strias e propriedades rurais podem participar. O programa est√° dispon√≠vel em diversas regi√µes do Brasil. Consulte a disponibilidade para o seu CEP no formul√°rio de cadastro.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <h3>Como come√ßo a economizar?</h3>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>√â muito simples! Clique no bot√£o "QUERO MEU DESCONTO", preencha o formul√°rio com seus dados, e nossa equipe entrar√° em contato para finalizar seu cadastro. Em poucos dias voc√™ j√° estar√° economizando!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bot√£o CTA -->
        <div class="cta-section">
            <button class="cta-button" onclick="showForm()">
                ‚ö° QUERO MEU DESCONTO ‚ö°
            </button>
        </div>

        <!-- Formul√°rio de Cadastro -->
        <div class="form-section" id="formSection">
            <h2>üìã Cadastre-se Agora e Garanta sua Economia!</h2>
            
            <form id="cadastroForm" onsubmit="handleSubmit(event)">
                <div class="form-group">
                    <label for="nome">Nome Completo do Titular da Conta <span class="required">*</span></label>
                    <input type="text" id="nome" name="nome" placeholder="Digite o nome completo" required>
                </div>

                <div class="form-group">
                    <label for="consumo">Valor M√©dio de Consumo (em R$) <span class="required">*</span></label>
                    <input type="number" id="consumo" name="consumo" placeholder="Ex: 250" step="0.01" required>
                </div>

                <div class="form-group">
                    <label for="baixaRenda">Est√° cadastrado no Baixa Renda? <span class="required">*</span></label>
                    <select id="baixaRenda" name="baixaRenda" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="sim">‚úÖ Sim</option>
                        <option value="nao">‚ùå N√£o</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="whatsapp">Telefone WhatsApp para Contato <span class="required">*</span></label>
                    <input type="tel" id="whatsapp" name="whatsapp" placeholder="(00) 00000-0000" required>
                </div>

                <div class="form-group">
                    <label for="email">E-mail <span class="required">*</span></label>
                    <input type="email" id="email" name="email" placeholder="seu@email.com" required>
                </div>

                <div class="form-group">
                    <label for="cep">CEP <span class="required">*</span></label>
                    <input type="text" id="cep" name="cep" placeholder="00000-000" maxlength="9" required>
                </div>

                <div class="form-group">
                    <label for="rgFrente">Foto do RG - FRENTE <span class="required">*</span></label>
                    <div class="file-upload" onclick="document.getElementById('rgFrente').click()">
                        <input type="file" id="rgFrente" name="rgFrente" accept="image/*" required onchange="updateFileName(this, 'fileNameFrente')">
                        <label for="rgFrente" class="file-upload-label">
                            üì∑ Clique aqui para fazer upload da FRENTE do RG<br>
                            <span id="fileNameFrente" style="font-size: 0.9em; color: #888;">Nenhum arquivo selecionado</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="rgVerso">Foto do RG - VERSO <span class="required">*</span></label>
                    <div class="file-upload" onclick="document.getElementById('rgVerso').click()">
                        <input type="file" id="rgVerso" name="rgVerso" accept="image/*" required onchange="updateFileName(this, 'fileNameVerso')">
                        <label for="rgVerso" class="file-upload-label">
                            üì∑ Clique aqui para fazer upload do VERSO do RG<br>
                            <span id="fileNameVerso" style="font-size: 0.9em; color: #888;">Nenhum arquivo selecionado</span>
                        </label>
                    </div>
                </div>
                
<!-- Barra de progresso -->
<div class="upload-progress" id="uploadProgress">
    <p style="color: #00ff00; text-align: center; margin-bottom: 10px;">Fazendo upload das imagens...</p>
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width: 0%;">0%</div>
    </div>
</div>
                
                <button type="submit" class="submit-button">
                    üöÄ ENVIAR CADASTRO E GARANTIR DESCONTO
                </button>
            </form>
        </div>
    </div>

    <script>
        // Configura√ß√£o do Supabase
const SUPABASE_URL = 'https://azsrpwrlzsficdcsegtm.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF6c3Jwd3JsenNmaWNkY3NlZ3RtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNjgwOTcsImV4cCI6MjA3OTY0NDA5N30.58FP_hRQF9enjhD4X7GERvX5ww65rnnvLonVEy42mDI';
const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        // Mostrar formul√°rio ao clicar no CTA
        function showForm() {
            document.getElementById('formSection').classList.add('active');
            document.getElementById('formSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Fun√ß√£o para comprimir imagem
async function compressImage(file, maxSizeMB = 1) {
    return new Promise((resolve) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = (event) => {
            const img = new Image();
            img.src = event.target.result;
            img.onload = () => {
                const canvas = document.createElement('canvas');
                let width = img.width;
                let height = img.height;
                
                const MAX_WIDTH = 1920;
                const MAX_HEIGHT = 1920;
                
                if (width > height) {
                    if (width > MAX_WIDTH) {
                        height *= MAX_WIDTH / width;
                        width = MAX_WIDTH;
                    }
                } else {
                    if (height > MAX_HEIGHT) {
                        width *= MAX_HEIGHT / height;
                        height = MAX_HEIGHT;
                    }
                }
                
                canvas.width = width;
                canvas.height = height;
                
                const ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0, width, height);
                
                canvas.toBlob((blob) => {
                    resolve(new File([blob], file.name, {
                        type: 'image/jpeg',
                        lastModified: Date.now()
                    }));
                }, 'image/jpeg', 0.8);
            };
        };
    });
}

// Fazer upload de imagem
async function uploadImage(file, tipo) {
    try {
        const compressedFile = await compressImage(file);
        
        const timestamp = Date.now();
        const random = Math.random().toString(36).substring(7);
        const fileName = `rg_${tipo}_${timestamp}_${random}.jpg`;
        
        const { data, error } = await supabase.storage
            .from('rg-documentos')
            .upload(fileName, compressedFile, {
                cacheControl: '3600',
                upsert: false
            });
        
        if (error) throw error;
        
        const { data: { publicUrl } } = supabase.storage
            .from('rg-documentos')
            .getPublicUrl(fileName);
        
        return publicUrl;
    } catch (error) {
        console.error('Erro no upload:', error);
        throw error;
    }
}

// Atualizar progresso
function updateProgress(percent) {
    const progressFill = document.getElementById('progressFill');
    progressFill.style.width = percent + '%';
    progressFill.textContent = Math.round(percent) + '%';
}


async function handleSubmit(event) {
    event.preventDefault();
    
    const submitBtn = event.target.querySelector('button[type="submit"]');
    const progressDiv = document.getElementById('uploadProgress');
    const originalText = submitBtn.textContent;
    
    submitBtn.disabled = true;
    submitBtn.textContent = '‚è≥ PROCESSANDO...';
    progressDiv.classList.add('active');
    updateProgress(0);
    
    try {
        const formData = new FormData(event.target);
        
        const rgFrente = formData.get('rgFrente');
        const rgVerso = formData.get('rgVerso');
        
        if (!rgFrente || !rgVerso) {
            throw new Error('Por favor, selecione as duas fotos do RG.');
        }
        
        if (rgFrente.size > 5 * 1024 * 1024 || rgVerso.size > 5 * 1024 * 1024) {
            throw new Error('As imagens devem ter no m√°ximo 5MB cada.');
        }
        
        updateProgress(10);
        
        submitBtn.textContent = 'üì§ Enviando RG Frente...';
        const urlFrente = await uploadImage(rgFrente, 'frente');
        updateProgress(40);
        
        submitBtn.textContent = 'üì§ Enviando RG Verso...';
        const urlVerso = await uploadImage(rgVerso, 'verso');
        updateProgress(70);
        
        submitBtn.textContent = 'üíæ Salvando cadastro...';
        const cadastro = {
            nome_completo: formData.get('nome'),
            valor_consumo: parseFloat(formData.get('consumo')),
            baixa_renda: formData.get('baixaRenda'),
            whatsapp: formData.get('whatsapp'),
            email: formData.get('email'),
            cep: formData.get('cep'),
            rg_frente_url: urlFrente,
            rg_verso_url: urlVerso
        };
        
        updateProgress(80);
        
        const { data, error } = await supabase
            .from('cadastros_igreen')
            .insert([cadastro])
            .select();
        
        if (error) throw error;
        
        updateProgress(100);
        
        setTimeout(() => {
            alert('‚úÖ Cadastro enviado com sucesso!\n\nID: ' + data[0].id + '\n\nDocumentos recebidos e armazenados com seguran√ßa.\n\nEm breve nossa equipe entrar√° em contato pelo WhatsApp informado.');
            
            event.target.reset();
            document.getElementById('fileNameFrente').textContent = 'Nenhum arquivo selecionado';
            document.getElementById('fileNameFrente').style.color = '#888';
            document.getElementById('fileNameVerso').textContent = 'Nenhum arquivo selecionado';
            document.getElementById('fileNameVerso').style.color = '#888';
            progressDiv.classList.remove('active');
        }, 500);
        
    } catch (error) {
        console.error('Erro:', error);
        
        let errorMessage = '‚ùå Erro ao enviar cadastro.\n\n';
        
        if (error.message.includes('Failed to fetch')) {
            errorMessage += 'Verifique sua conex√£o com a internet.';
        } else if (error.message.includes('storage')) {
            errorMessage += 'Erro no upload das imagens. Verifique se configurou o Storage no Supabase.';
        } else {
            errorMessage += error.message;
        }
        
        alert(errorMessage);
        progressDiv.classList.remove('active');
        
    } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
    }
}
        
        // Enviar para o Supabase
        const { data, error } = await supabase
            .from('cadastros_igreen')
            .insert([cadastro])
            .select();
        
        if (error) {
            throw error;
        }
        
        // Sucesso!
        alert('‚úÖ Cadastro enviado com sucesso!\n\nEm breve nossa equipe entrar√° em contato pelo WhatsApp informado.');
        
        // Resetar formul√°rio
        event.target.reset();
        document.getElementById('fileNameFrente').textContent = 'Nenhum arquivo selecionado';
        document.getElementById('fileNameFrente').style.color = '#888';
        document.getElementById('fileNameVerso').textContent = 'Nenhum arquivo selecionado';
        document.getElementById('fileNameVerso').style.color = '#888';
        
        // Reabilitar bot√£o
        submitBtn.disabled = false;
        submitBtn.textContent = 'üöÄ ENVIAR CADASTRO E GARANTIR DESCONTO';
        
    } catch (error) {
        console.error('Erro ao enviar cadastro:', error);
        alert('‚ùå Erro ao enviar cadastro. Por favor, tente novamente.\n\nSe o problema persistir, entre em contato conosco.');
        
        // Reabilitar bot√£o
        submitBtn.disabled = false;
        submitBtn.textContent = 'üöÄ ENVIAR CADASTRO E GARANTIR DESCONTO';
    }
}
        // Toggle FAQ
        function toggleFaq(element) {
            const faqItem = element.parentElement;
            const isActive = faqItem.classList.contains('active');
            
            // Fechar todos os FAQs
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Abrir o clicado se n√£o estava ativo
            if (!isActive) {
                faqItem.classList.add('active');
            }
        }

        // Atualizar nome do arquivo
        function updateFileName(input, spanId) {
            const fileName = input.files[0]?.name || 'Nenhum arquivo selecionado';
            const span = document.getElementById(spanId);
            span.textContent = fileName;
            span.style.color = '#00ff00';
        }

        // M√°scara para telefone
        document.getElementById('whatsapp').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                value = value.replace(/(\d)(\d{4})$/, '$1-$2');
            }
            e.target.value = value;
        });

        // M√°scara para CEP
        document.getElementById('cep').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/^(\d{5})(\d)/, '$1-$2');
            e.target.value = value;
        });
        
    </script>
</body>
</html>
